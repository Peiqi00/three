#### 什么是细粒度？
#### 细粒度的本质问题是什么？
细粒度识别的类内差距大、类间差距小。

类内差距大：可能因为姿势、拍摄位置、光照等噪音带来的差异远大于能够区分物体的特征比如毛色、肢体等细微差异。

【那么，我们的任务就可以集中在如何排除噪音、或者如何选择特征？】
#### 什么是端到端训练？
#### 什么是平移不变性？
#### 内框架代码？怎么处理输入？输出怎么进行loss计算？
#### 数据集的标注文件是怎么样的？


## Bilinear CNN Models for Fine-grained Visual Recognition（细粒度视觉识别之双线性CNN模型）
* what 
    双线性定义：包含两个特征提取器，其输出经过外积相乘、池化后获得图像描述子
    
    一种对Bilinear CNN模型的解释是，网络A的作用是对物体／部件进行定位，即完成前面介绍算法的物体与局部区域检测工作，而网络B则是用来对网络A检测到的物体位置进行特征提取。

    两个网络相互协调作用，完成了细粒度图像分类过程中两个最重要的任务：物体、局部区域的检测与特征提取。
    
* why
    人的视觉是有两个数据流，ventral stream 告诉人们这个object是什么， dorsal stream 告诉人们这个物体在哪儿。由于，我们的模型在两个CNN的输出是线性的，所以我们命名为biliner CNN

* how

细粒度识别即对隶属于同一类的目标进行分类，包括鸟的物种识别、汽车的型号识别和狗的品种识别。细粒度识别高度依赖目标的局部特征，例如，要将“加利福尼亚鸥”与“环嘴鸥”区分开来，需要识别其喙上的图案或它们羽毛的细微颜色差异。两类技术适合于解决细粒度分类任务。一是基于部件的识别模型，这些模型检测并提取部件的特征进行细粒度的类别区分。另一种方法是基于全局图像的整体模型。基于部件的模型往往更加精确，但由于图像部件标注成本太高，很难获取大规模的数据集，所以这种方法不实用。实际应用种往往更需要仅仅依据图像的类别信息完成细粒度识别任务。

这篇文章的主要思想是对于两个不同图像特征的处理方式上的不同。传统的，对于图像的不同特征，我们常用的方法是进行串联（连接），或者进行sum,或者max-pooling。论文的主要思想是，研究发现人类的大脑发现，人类的视觉处理主要有两个pathway, the ventral stream是进行物体识别的，the dorsal stream 是为了发现物体的位置。论文基于这样的思想，希望能够将两个不同特征进行结合来共同发挥作用，提高细粒度图像的分类效果。论文希望两个特征能分别表示图像的位置和对图形进行识别。论文提出了一种Bilinear Model。

在结构上，由于2个CNN提取的特征，进行外积相乘，从而产生了大量特征之间的两两组合。两个不同的stream代表着通过CNN得到的不同特征，然后将两个特征进行bilinear操作。

一个bilinear model由四元组构成，B=（fA,fB,P,C）,其中fA,fB为两个不同的特征提取函数，P为Pooling操作，C表示分类函数，输入图像I，位置区域l。进行如下计算。

![](https://i.imgur.com/uX8NBqB.png)

特征提取函数f（·）的作用可以看作是一个函数映射

其中池化函数的作用是将所有位置的Bilinear特征汇聚成一个特征

到此Bilinear向量即可表示该细粒度图像，后续则为经典的全连接层进行图像分类。

![](https://i.imgur.com/SyfNMqD.png)

![](https://i.imgur.com/F53OQOp.png)

这段公式的意思：两个特征fA和fB，它们的size分别是M*L和N*L，这两个特征的位置是对应的，比如都是从同一块图像区域extractor。fA和fB进行一个外积，然后把所有位置得到的外积求和，之后进行向量化，对得到的向量进行两个归一化（矩归一和L2归一）。

对同属一个子类的物体进行分类，通常需要对高度局部化、且与图像中姿态及位置无关的特征进行识别。例如，“加利福尼亚海鸥”与“环状海鸥”的区分就要求对其身体颜色纹理，或羽毛颜色的微细差异进行识别。
通常的技术分为两种：

1. 局部模型：先对局部定位，之后提取其特征，获得图像特征描述。缺陷：外观通常会随着位置、姿态及视角的改变的改变。
2. 整体模型：直接构造整幅图像的特征表示。

（基于CNN的局部模型要求对训练图像局部标注，代价昂贵，并且某些类没有明确定义的局部特征，如纹理及场景）

![](https://i.imgur.com/2fq6HRT.png)


![](https://i.imgur.com/rTykMy7.png)
